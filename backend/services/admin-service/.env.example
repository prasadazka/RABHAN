# RABHAN Admin Service Environment Configuration
# Saudi Arabia's Solar BNPL Platform - Admin Management Service
# Copy this file to .env and configure with your actual values

# ==============================================
# SERVICE CONFIGURATION
# ==============================================
NODE_ENV=development
SERVICE_NAME=admin-service
SERVICE_VERSION=1.0.0
PORT=3006
HOST=0.0.0.0

# ==============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=rabhan_admin
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=50
DATABASE_SSL=false
# DATABASE_CA_CERT=path/to/ca-cert.pem
# DATABASE_CLIENT_CERT=path/to/client-cert.pem
# DATABASE_CLIENT_KEY=path/to/client-key.pem

# ==============================================
# REDIS CONFIGURATION (Caching)
# ==============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=true
REDIS_CLUSTER_ENABLED=false
# REDIS_CLUSTER_NODES=redis1:6379,redis2:6379,redis3:6379

# ==============================================
# JWT CONFIGURATION (Zero-Trust Security)
# ==============================================
JWT_SECRET=your_very_secure_jwt_secret_minimum_32_characters_long
JWT_ADMIN_SECRET=your_very_secure_admin_jwt_secret_minimum_32_characters_long
JWT_EXPIRES_IN=8h
JWT_REFRESH_SECRET=your_very_secure_refresh_secret_minimum_32_characters_long
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=rabhan-admin-service
JWT_AUDIENCE=rabhan-platform

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your_very_secure_session_secret_minimum_32_characters_long
MFA_SECRET_LENGTH=32
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ==============================================
# SAMA COMPLIANCE CONFIGURATION
# ==============================================
SAMA_AUDIT_ENABLED=true
SAMA_RETENTION_YEARS=7
SAMA_INCIDENT_NOTIFICATION_HOURS=4
SAMA_ENCRYPTION_ALGORITHM=AES-256-GCM
SAMA_COMPLIANCE_LEVEL=CRITICAL

# ==============================================
# RATE LIMITING CONFIGURATION
# ==============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_ADMIN_MAX_REQUESTS=500
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ==============================================
# EXTERNAL SERVICES URLS
# ==============================================
USER_SERVICE_URL=http://localhost:3002
CONTRACTOR_SERVICE_URL=http://localhost:3004
DOCUMENT_SERVICE_URL=http://localhost:3003
AUTH_SERVICE_URL=http://localhost:3001
# NOTIFICATION_SERVICE_URL=http://localhost:3007

# ==============================================
# SAUDI REGIONAL CONFIGURATION
# ==============================================
DEFAULT_REGION=riyadh
DEFAULT_TIMEZONE=Asia/Riyadh
SUPPORTED_REGIONS=riyadh,jeddah,dammam,khobar,mecca,medina
KSA_BUSINESS_HOURS_START=8
KSA_BUSINESS_HOURS_END=17

# ==============================================
# MONITORING AND OBSERVABILITY
# ==============================================
MONITORING_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL_MS=30000
LOG_LEVEL=info
LOG_FORMAT=json

# ==============================================
# PERFORMANCE CONFIGURATION
# ==============================================
RESPONSE_TIME_THRESHOLD_MS=2
CONCURRENT_REQUEST_LIMIT=1000
MEMORY_LIMIT_MB=512
CPU_THRESHOLD_PERCENT=80

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=.pdf,.jpg,.jpeg,.png,.doc,.docx
UPLOAD_TEMP_DIR=./temp

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=your-email@rabhan.sa
# SMTP_PASSWORD=your-app-password
# EMAIL_FROM=noreply@rabhan.sa

# ==============================================
# BACKUP AND RECOVERY
# ==============================================
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=90

# ==============================================
# DEVELOPMENT AND TESTING
# ==============================================
DEBUG_ENABLED=false
MOCK_EXTERNAL_SERVICES=false
# TEST_DATABASE_NAME=rabhan_admin_test

# ==============================================
# AWS/CLOUD CONFIGURATION (Production)
# ==============================================
AWS_REGION=me-south-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# S3_BUCKET_NAME=rabhan-admin-documents

# ==============================================
# FEATURE FLAGS
# ==============================================
FEATURE_KYC_AUTO_APPROVAL=false
FEATURE_BULK_OPERATIONS=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_DASHBOARD=true

# ==============================================
# NOTES
# ==============================================
# 1. Replace all placeholder values with actual secure values
# 2. Use strong passwords and secrets (minimum 32 characters)
# 3. Enable SSL in production (DATABASE_SSL=true)
# 4. Configure proper CORS origins for production
# 5. Set up proper monitoring and alerting
# 6. Ensure SAMA compliance settings are correctly configured
# 7. Test database connectivity before deployment
# 8. Verify Redis connection and performance
# 9. Set up proper backup procedures
# 10. Configure AWS credentials for production deployment